---
title: Allrecipes
date: 2025-09-16
week: 37
---

<Note>
  <Link label='Week 37' url='https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/2025-09-16/readme.md' /> â€¢ 16 September 2025
</Note>

[Allrecipes data](https://cran.r-project.org/package=tastyR) is on the menu this week.

Once again, there are a lot of interesting things to explore in this data. I thought I'd try looking at the prevalence of the two staples: rice and bread. My methodology is far from perfect, but I just tried to parse the ingredients list and extract either `rice` on the one hand, or `flour`, `wheat`, or `bread` on the other.

Once I'd added two booleans to flag each recipe, I took a net of flour-based minus rice-based recipes, and normalized it over the total number recipes for each cuisine. There aren't really any surprises in these numbers, so this approach must not have been completely off base.

<Details title="Queries">

Taking a page from last week, once I'd done my exploration and settled on a query I went ahead and generated a static CSV:

```sql
copy (
  with parse_ingredients as (
       select *,
              ingredients like '%rice%' as has_rice,
              ingredients similar to '.*(flour|bread|wheat).*' as has_flour
         from 'https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-09-16/cuisines.csv'
  )

   select cuisine,
          count_if(has_rice) as rice_recipes,
          count_if(has_flour) as flour_recipes,
          count(*) as all_recipes,
          (flour_recipes - rice_recipes)/all_recipes as net_pct
     from parse_ingredients
 group by all
) to 'rice_vs_bread.csv'
```

```sql rice_vs_bread
from tidytuesday.rice_vs_bread
```

</Details>

<BarChart
  title="Staple Spectrum"
  subtitle="Predominance of flour/wheat- versus rice-based recipes across cuisines"
  data={rice_vs_bread}
  x=cuisine
  y=net_pct
  yFmt='0%"  ðŸ¥–";0%"  ðŸš"'
  yAxisLabels=false
  yGridlines=false
  yMin=-1
  yMax=1
  swapXY=true
  leftPadding=110
>
  <ReferenceArea yMin='0' yMax='1'
    label=ðŸ¥–
    fontSize=72
    labelPosition=center
    color=warning
  />
  <ReferenceArea yMin='-1' yMax='0'
    label=ðŸš
    fontSize=72
    labelPosition=center
  />
</BarChart>

<Note>
Source: <Link label='tastyR package' url='https://cran.r-project.org/package=tastyR' />
</Note>

The other visualization I was trying was a world map with a color scale per country, but it was a bit glitchy. Maybe I'll give it another shot sometime.

Of course, this doesn't even account for the many recipes that would just be paired with either rice or bread. I wonder if the prevalence of dishes served with just plain rice accounts for the rice-based recipes capping out below 50%.
